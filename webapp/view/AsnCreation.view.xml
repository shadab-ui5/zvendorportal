<mvc:View controllerName="hodek.vendorportal.controller.AsnCreation"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:core="sap.ui.core"
    xmlns:u="sap.ui.unified"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:upload="sap.m.upload"
    xmlns:svm="sap.ui.comp.smartvariants">
    <!-- <Page id="asnCreationpage" title="{i18n>title}" showFooter="true" titleAlignment="Auto" showNavButton="true" navButtonPress="onNavBack"> -->
    <f:DynamicPage id="_IDGenDynamicPage3" stickySubheaderProvider="iconTabBar" headerExpanded="{/headerExpanded}" showFooter="true" fitContent="true">
        <f:title>
            <f:DynamicPageTitle id="_IDGenDynamicPageTitle2">
                <f:actions>
                    <Button id="_IDGenButton9" type="Emphasized" text="Save" press="onSave" class="sapUiSmallMarginEnd"/>
                </f:actions>
                <f:heading>
                    <Title id="_IDGenTitle1" text="{RoutePoData>/PoHeader/PurchaseOrder}" level="H1"/>
                </f:heading>
                <f:expandedContent>
                    <HBox id="_IDGenHBox4" width="100%" justifyContent="SpaceBetween">
                        <Label id="_IDGenLabel14" text="{=${RoutePoData>/PoHeader/purchaseOrderText}?${RoutePoData>/PoHeader/purchaseOrderText}:'NA'}"/>
                    </HBox>
                </f:expandedContent>
                <f:snappedContent>
                    <Label id="_IDGenLabel22" text="{=${RoutePoData>/PoHeader/purchaseOrderText}?${RoutePoData>/PoHeader/purchaseOrderText}:'NA'}"/>

                </f:snappedContent>
            </f:DynamicPageTitle>
        </f:title>
        <f:header>
            <f:DynamicPageHeader id="_IDGenDynamicPageHeader2">
                <f:content>
                    <HBox id="_IDGenHBox5">
                        <VBox id="_IDGenVBox5" width="20%">
                            <Label id="_IDGenLabel5" text="Invoice Number" required="true"/>
                            <Input id="idDocInvNo" value="" change="onChangeDocInvNo" maxLength="16" width="75%"/>
                        </VBox>
                        <VBox id="_IDGenVBox20" width="20%">
                            <Label id="_IDGenLabel26" text="Plant" required="true"/>
                            <Input id="idDropdownPlant" value="{RoutePoData>/PoHeader/Plant}" enabled="false" width="75%"/>
                        </VBox>
                        <VBox id="_IDGenVBox23" width="20%">
                            <Label id="_IDGenLabel25" text="Purchase Order" required="true"/>
                            <Input id="idRAPO_PO_Order" value="{RoutePoData>/PoHeader/PurchaseOrder}" enabled="false" width="75%"/>
                        </VBox>
                        <VBox id="_IDGenVBox21" width="20%">
                            <Label id="_IDGenLabel23" text="Date"/>
                            <Input id="idRAPO_Date" value="{RoutePoData>/PoHeader/Date}" enabled="false" width="75%"/>
                        </VBox>
                        <VBox id="_IDGenVBox22" width="20%">
                            <Label id="_IDGenLabel24" text="Time"/>
                            <Input id="idRAPO_Time" value="{RoutePoData>/PoHeader/Time}" enabled="false" width="75%"/>
                        </VBox>
                    </HBox>
                    <HBox id="_IDGenHBox2" class="sapUiTinyMarginTop">

                        <VBox id="_IDGenVBox6" width="20%">
                            <Label id="_IDGenLabel6" text="Invoice Date" required="true"/>
                            <DatePicker id="idRAPO_InvDate" width="75%" placeholder="Select Date" displayFormat="yyyy-MM-dd" enabled="true" class="sapUiSmallMarginBottom"/>
                        </VBox>
                        <VBox id="_IDGenVBox7" width="20%">
                            <Label id="_IDGenLabel7" text="Vehical Number" required="true"/>
                            <Input id="idRAPO_VehicalNo" maxLength="10" width="75%"/>
                        </VBox>
                        <VBox id="_IDGenVBox8" width="20%">
                            <Label id="_IDGenLabel8" text="Transporter" required="true"/>
                            <Input id="idRAPO_Trasporter" maxLength="50" width="75%"/>
                        </VBox>
                        <VBox id="_IDGenVBox10" width="20%">
                            <Label id="_IDGenLabel10" text="Eway Bill Number" required="true"/>
                            <Input id="idRAPO_EwayNo" maxLength="50" width="75%"/>
                        </VBox>
                        <VBox id="_IDGenVBox24" width="20%">
                            <Label id="_IDGenLabel29" text="Eway Bill Date"/>
                            <DatePicker id="idRAPO_EWAY_Date" width="75%" placeholder="Select Date" change="handleChange_RAPO_EWAYDate" displayFormat="yyyy-MM-dd" enabled="true" class="sapUiSmallMarginBottom"/>
                        </VBox>
                    </HBox>

                    <HBox id="_IDGenHBox3" class="sapUiTinyMarginTop">
                        <VBox id="_IDGenVBox9" width="20%">
                            <Label id="_IDGenLabel9" text="Amount" required="true"/>
                            <Input id="idRAPO_Amount" change="onChangeRAPOAmount" type="Number" width="75%"/>
                        </VBox>
                        <VBox id="_IDGenVBox12" width="20%">
                            <Label id="_IDGenLabel12" text="LR Number"/>
                            <Input id="idRAPO_LR_No" maxLength="25" width="75%"/>
                        </VBox>
                        <VBox id="_IDGenVBox11" width="20%">
                            <Label id="_IDGenLabel11" text="LR Date"/>
                            <DatePicker id="idRAPO_LR_Date" width="75%" placeholder="Select Date" change="handleChange_RAPO_LRDate" displayFormat="yyyy-MM-dd" enabled="true" class="sapUiSmallMarginBottom"/>
                        </VBox>
                        <VBox id="_IDGenVBox111" width="20%" visible="false">
                            <Label id="_IDGenLabel111" text="Supplier"/>
                            <Text id="idSupplier" text="{RoutePoData>/PoHeader/Supplier}" class="sapUiSmallMarginBottom"/>
                        </VBox>
                    </HBox>

                </f:content>
            </f:DynamicPageHeader>
        </f:header>
        <f:content >

            <IconTabBar id="iconTabBar" class="sapUiNoContentPadding">
                <items>
                    <IconTabFilter id="_IDGenIconTabFilter3" text="Items">
                        <VBox id="_IDGenVBox14">
                            <Table id="idTable_RAPO" alternateRowColors="true" items="{path: 'AsnItemsModel>/Results'}" sticky="ColumnHeaders,HeaderToolbar">
                                <headerToolbar>
                                    <OverflowToolbar id="_IDGenOverflowToolbar">
                                        <Title id="_IDGenTitle6" text="Items" level="H2"/>
                                        <ToolbarSpacer id="_IDGenToolbarSpacer"/>
                                        <!-- <Button id="_IDGenButton" icon="sap-icon://add" text="Add" press="onAddReceiptAsPOTableItem"/> -->
                                    </OverflowToolbar>
                                </headerToolbar>
                                <columns>
                                    <Column id="_IDGenColumn" visible="false">
                                        <Text id="_IDGenText" text="PO No. / SA No." />
                                    </Column>
                                    <Column id="_IDGenColumn1">
                                        <Text id="_IDGenText1" text="Line Item No" />
                                    </Column>
                                    <Column id="_IDGenColumn3">
                                        <Text id="_IDGenText3" text="Item Code/Material" />
                                    </Column>
                                    <Column id="_IDGenColumn4">
                                        <Text id="_IDGenText4" text="Item Description" />
                                    </Column>
                                    <Column id="_IDGenColumn5">
                                        <Text id="_IDGenText5" text="UOM" />
                                    </Column>
                                    <Column id="_IDGenColumn7">
                                        <Text id="_IDGenText11" text="Quantity" />
                                    </Column>
                                    <Column visible="false">
                                        <Text text="OrderQuantity" />
                                    </Column>
                                    <Column visible="false">
                                        <Text text="postedquantity" />
                                    </Column>
                                </columns>
                                <items>
                                    <ColumnListItem id="_IDGenColumnListItem">
                                        <cells>
                                            <Text id="_IDGenText18" text="{AsnItemsModel>PurchaseOrder}" />
                                            <Text id="_IDGenText15" text="{AsnItemsModel>PurchaseOrderItem}"/>
                                            <Text id="_IDGenText16" text="{AsnItemsModel>Material}"/>
                                            <Text id="_IDGenText17" text="{AsnItemsModel>PurchaseOrderItemText}"/>
                                            <!-- <Input id="_IDGenInput" value="{Material}" showValueHelp="true" valueHelpOnly="true" valueHelpRequest="material_RAPOValueHelp"/> -->
                                            <Text id="_" text="{AsnItemsModel>BaseUnit}" />
                                            <Input id="idInpRAPOItemQuantity" value="{AsnItemsModel>EnteredQuantity}" change="onChangeRAPOItemQuantity" type="Number" />
                                            <Text text="{AsnItemsModel>OrderQuantity}" />
                                            <Text text="{AsnItemsModel>postedquantity}" />
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                            <VBox id="idVBox_QRCode" visible="false">

                            </VBox>
                        </VBox>
                    </IconTabFilter>
                    <IconTabFilter id="_IDGenIconTabFilter4" text="Attachments">
                        <Table id="table-uploadSet" class="sapUiNoContentPadding" sticky="ColumnHeaders,HeaderToolbar" width="auto" mode="MultiSelect" fixedLayout="false" inset="true" autoPopinMode="true" hiddenInPopin="None" items="{path: 'documents>/items', templateShareable: false}" selectionChange="onSelectionChange">

                            <headerToolbar>
                                <OverflowToolbar>
                                    <Title text="Documents ({= ${documents>/items}.length})" level="H2" />
                                    <ToolbarSpacer />

                                    <SearchField width="20%" liveChange="onSearch">
                                        <layoutData>
                                            <OverflowToolbarLayoutData priority="NeverOverflow" />
                                        </layoutData>
                                    </SearchField>
                                    <ToolbarSeparator />

                                    <!-- Upload Button Placeholder (UI5 UploadSet integration) -->
                                    <upload:ActionsPlaceholder id="uploadButton" placeholderFor="UploadButtonPlaceholder" />

                                    <Button id="downloadSelectedButton" text="Download" enabled="false" press="onDownloadFiles" />
                                </OverflowToolbar>
                            </headerToolbar>

                            <dependents>
                                <plugins.UploadSetwithTable id="uploadSetTablePlugin" uploadUrl="/catalog/CatService/uploadFile" multiple="true" beforeUploadStarts="onBeforeUploadStarts" itemRenamed="onDocumentRenamedSuccess" uploadCompleted="onUploadCompleted" onActivated="onPluginActivated" cloudFilePickerEnabled="true" actions="uploadButton">

                                    <rowConfiguration>
                                        <upload.UploadItemConfiguration fileNamePath="fileName" mediaTypePath="mimeType" urlPath="url" previewablePath="previewable" fileSizePath="fileSize" isTrustedSourcePath="trustedSource" />
                                    </rowConfiguration>
                                </plugins.UploadSetwithTable>
                            </dependents>

                            <columns>
                                <Column importance="High">
                                    <header>
                                        <Label text="File Name" />
                                    </header>
                                </Column>
                                <Column>
                                    <header>
                                        <Label text="File Size" />
                                    </header>
                                </Column>
                                <Column>
                                    <header>
                                        <Label text="Last Modified" />
                                    </header>
                                </Column>
                                <Column importance="High" />
                            </columns>

                            <items>
                                <ColumnListItem highlight="{= ${documents>uploadState} === 'Complete' ? 'Indication05' : null }">
                                    <cells>
                                        <HBox>
                                            <Image src="{documents>imageUrl}" class="sapMUSTItemImage sapMUSTItemIcon" visible="{= ${documents>imageUrl} !== undefined}" />
                                            <core:Icon src="{parts: ['documents>mimeType', 'documents>fileName'], formatter: '.getIconSrc'}" visible="{= ${documents>imageUrl} === undefined || ${documents>imageUrl} === '' }" class="sapMUSTItemImage sapMUSTItemIcon" />
                                            <VBox class="sapUiTinyMargin sapUiSmallMarginBegin">
                                                <Link text="{documents>fileName}" press="openPreview" class="sapUiTinyMarginBottom" />
                                                <Text text="{documents>documentType}" />
                                            </VBox>
                                        </HBox>

                                        <Text text="{parts: ['documents>fileSize'], formatter: '.getFileSizeWithUnits'}" />
                                        <VBox>
                                            <Text text="{documents>lastModifiedBy}" />
                                            <Text class="sapUiTinyMarginTop" text="{documents>lastModified}" />
                                        </VBox>
                                        <Button class="sapUiTinyMarginBegin" type="Transparent" icon="sap-icon://delete" press="onRemoveHandler" />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>

                    </IconTabFilter>
                </items>
            </IconTabBar>
        </f:content>
    </f:DynamicPage>
    <!-- </Page> -->
</mvc:View>